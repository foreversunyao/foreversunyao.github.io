---
layout: post
title: "Load Balance and related"
date: 2015-07-21 10:50:06
description: DNS LVS Nginx(Proxy) KeepAlived
tags: 
 - devops
---

**Scaling**
Vertical scaling: monolithic architectures don't need to be changed,less power/cooling in idc, but has limit and need downtime
Horizontal Scaling: scale easily and gradually, usually no downtime and easy to degradation, but may need change architecture and more cost in idc.

**HA**
NETWORK->server->application-database

**Judge from business**
business target --> resources requirement

**DNS**
Resource Record                              Name                                   Description
SOA                                   Start of Authority           Provides information about the particular DNS server.
A                                            Host                                Maps name to IPv4 address.
AAAA                                       IPv6 Host                             Maps name to IPv6 address.
CNAME                                    Canonical Name                           Maps name to name(It should only be used when there are no other records on that name).
PTR                                      Pointer Record               Maps IPv4 or IPv6 Hostname. For reverse mapping.
MX                                      Mail Exchanger                   A hostname for a mail server in this domain.
NS                                        Name Server          Specifies a domain/subdomain and a name server authoritative for the domain/subdomain.
ALIAS                                       ALIAS                              	Maps name to name(target is a single ip)

**KeepAlived**
VRRP(Virtual Router Redundancy Protocol)
/etc/keepalived/keepalived.conf
[refer](http://blog.duderamos.com/lvs-and-keepalived-an-example/)
[keepalived brain split](http://www.cammorato.com/2015/07/mitigation-of-vrrp-network-partition-vulnerability-in-keepalived/)

**LVS**
LVS is a kernel feature, can use "ipvsadm" to change.
ipvsadm

